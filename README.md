# be.sturdy-pancake
Backend repository for Sturdy Pancake

## Requirements
* Java 1.8
* Maven 3+
* MySQL database 5.6+

## How to run
* Have a MySQL database running (e.g. ```docker run -d --name mysql -e MYSQL_ROOT_PASSWORD=foo -p 3306:3306 mysql:5.6.37```).
* Run ```mvn install -P init``` to provision DB schema with Liquibase maven plugin.
* Run ```mvn clean install``` would generate API from swagger spec and model with DAO classes from DB schema. 
* ```java -jar service/target/service-1.0.0.jar```

## Techy stuff
### Modules
Modules and their suggested use:
* `api` - module with swagger-generated API client. Could be imported to other projects/modules in order to consume the API, for example for integration tests.
* `model` - contains Liquibase migrations for DB schema and autogenerated JooQ model and DAO classes.
* `service` -  contains Spring Boot 2 application itself, all configurations, controllers and business logic. Uses swagger-generated server interface stubs.

### Service Structure
* configuration - Spring configuration classes
* controller - controllers enclosing business logic
* factories - factories injecting API implementations
* impl - API implementations

### Notes
To compile the project in IntelliJ after `mvn clean install` step you need to mark `be.sturdy-pancake/service/target/generated-sources/swagger/src/main/java/src/gen/java` as a "Generated Sources Root"